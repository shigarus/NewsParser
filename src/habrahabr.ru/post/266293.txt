Linux и бесплатные облачные хранилища

В попытках подмонтировать MS Onedrive в линуксе возникла мысль — а какие вообще
бывают облака, которые нормально монтируются в папку и при этом предлагают
максимальный объем? Ниже — небольшой список сервисов и впечатления от попыток
примонтировать их.

Сразу скажу — это все делалось только для удовлетворения любопытства, а не для
последующего использования — потому не могу сказать, как себя поведут
предложенные решения в долговременном плане. Но, возможно, кому-то будет
полезно.

Облака выбирались по двум параметрам — максимальный бесплатный объем
(желательно получаемый без нескольких десятков регистраций по вашей
реферральной ссылке) и возможность монтирования в папку под линуксом.

Процесс тестирования состоял из

1) Регистрация или вспоминание пароля (если я уже был зарегистрирован на этом
сервисе)

2) Попытка добавить свободное место по реферральной ссылке — чтобы проверить,
как выглядит процесс и насколько просто самостоятельно «накрутить» себе место.

3) Попытка подключить облако в папку под линуксом (там, где работает WebDAV —
использовал davfs2, где не работает — другие доступные варианты).

4) Если попытка удачная, то несколько попыток загрузить разные файлы —
какая-нибудь мелочь в пределах мегабайта, 50-70 мегабайт и 1,6 гигабайта.

Эксперименты производились на hetzner'овском VPS с одним ядром и гигабайтом
оперативки (debian stable).

Я не смотрел на: цены, удобство клиентов, возможности коллективной работы,
встроенные редакторы и т.п. Это всё для полноценного сравнения сервисов,
которым я заниматься не хочу. Кому лень читать буквы, в конце табличка.

MediaFire

MediaFire [http://mediafire.com] — при регистрации дают 10 гигабайт, можно
поднять до 50 гигабайт разными «квестами»:

У меня почему-то сразу было 50 гигабайт (давно регистрировался), потому получил
ещё 5 постами в твиттере и фэйсбуке и установкой десктопного клиента. После
этого мне перестало отображать список акций и сказало «всё, хватит». 8 гигабайт
можно получить самостоятельно, еще 32 — за регистрации по вашей реферральной
ссылке, за каждую регистрацию по гигабайту. Ничего дополнительно ставить не
надо, так что, если не лень, всё можно с одного компьютера сделать — только
сперва заиметь 32 емейла. :)

Работа под линуксом производится при помощи Linux and Open-Source Toolkit for
Developers [https://github.com/MediaFire/mediafire-fuse]. В него входит
ftp-подобная утилита и модуль для FUSE. Инструкция по установке по ссылке
актуальная, самому ничего додумывать не пришлось. Работает довольно стабильно,
файл размером в 1,6 гигабайта загрузился.

Замеченных недостатков два:

1) скорость загрузки невелика, примерно 800 мегабайт в час (точнее можете сами
прикинуть по картинке выше).

2) когда что-то загружается, то у пользователя отрубается возможность
использовать df, к примеру. Подвисает до конца загрузки. На мелких файлах
некритично, а вот на больших…

Но, в целом, соотношение доступного объема и возможностей неплохое. Считаю, что
вполне можно использовать.

hubic.com

hubic.com [http://hubic.com] — при регистрации дают 25 гигабайт, можно получить
еще 5, если прийти по реферралу и 25 гигабайт набрать реферралами (по 5
гигабайт за каждого зарегистрировавшегося) — итого 55 гигабайт. Клиент при
регистрации ставить не требуется, так что до максимума аккаунт можно увеличить
за несколько минут, было бы пять запасных ящиков. WebDAV отсутсвует, есть
родной клиент под Linux
[https://forums.hubic.com/showthread.php?272-hubiC-for-Linux-beta-is-out-!]
(синхронизация), пока что beta-версия. Для монтирования в папку — hubicfuse
[https://github.com/TurboGit/hubicfuse]. Устанавливается и настраивается по
инструкции, никаких подводных камней не встретил.

С использованием проблем нет (кроме заявленных в документации — нельзя
переименовывать папки и копировать файлы в корень). Скорость загрузки хорошая.

К использованию пригодно.

mega.co.nz

mega.co.nz [http://mega.co.nz] — сразу дают 50 гигабайт, увеличивать — только
за деньги. Для бесплатных пользователей есть ограничение на 10 гигабайт трафика
в полчаса. То есть если засунете туда за 10 минут 10 гигабайт, то на полчаса
вас тормознут. WebDAV нет, есть клиент для синхронизации
[https://mega.nz/#sync], в том числе под Linux.

Либо можно использовать набор инструментов для командной строки
[http://megatools.megous.com/] (на github
[https://github.com/megous/megatools]) — создание аккаунта, загрузка и
скачивание файлов и программа для монтирования хранилища в папку. Для debian
unstable есть deb-пакет, но я пользуюсь stable, потому пришлось собрать из
исходников, никаких подводных камней в процессе не было. Но обнаружились после
установки — как выяснилось, копирование файлов тут еще не реализовано. Можно
только создавать папки и удалять файлы. Потому пришлось копать дальше.

Выкопал MegaFuse [https://github.com/matteoserva/MegaFuse/]. Тут со сборкой
было не так просто (пара библиотек по другому называлась, пришлось свап-файл
добавлять — оперативка кончилась), но в итоге всё скомпилировалось, запустилось
и заработало.

Особенности:

1) MegaFuse работает как демон, то есть надо либо запихивать его в screen, либо
делать из него сервис.

2) Гоняет файлы через /tmp — сперва копирует туда, потом загружает на сервер —
следите за свободным местом.

Скорость загрузки в районе 600-1000 килобайт/секунду, 1,6GB загрузилось,
процессора и ОЗУ MegaFuse требует не особо много.

К использованию пригодно (за минусом слегка замороченной настройки). Но
достаточно большой объем без лишних телодвижений и хорошая скорость эту
замороченность вполне искупают.

cubby.com

cubby.com [http://cubby.com] — изначально дают 5 гигабайт, можно поднять до 25
реферралами (по гигабайту за штуку, требуется установка клиента). Есть WebDAV
[http://help.cubby.com/knowledgebase/articles/143917-can-i-use-cubby-via-webdav],
ограничений на размер файла не заявлено, 1,6GB загрузилось нормально. Правда
если грузить в корень, то файлы попадают непонятно куда. Надо складывать их в
папки (cubbies в местной терминологии).

В целом — неплохой сервис, если раскрутить его до 25 гигабайт. Разве что
репутация logmein может напугать (они когда-то прекратили бесплатно
предоставлять услугу удаленного управления, предупредив за день до этого). Но,
думаю, что для облачного хранилища подобное не страшно — вы же не будете
хранить единственную копию своих файлов в чужом облаке? :)

К использованию пригодно.

box.com

box.com [http://box.com] — 10 гигабайт, бесплатно увеличивать не дают. Но у
некоторых могли остаться 50 гигабайт со времён box.net (у меня остались). Есть
ограничение размера файла для бесплатного пользователя — 250 мегабайт.

Есть WebDAV
[http://community.box.com/t5/Managing-Your-Content/Does-Box-support-WebDAV/ta-p/310],
работает без проблем, скорость загрузки хорошая.

К использованию ограниченно годен. Но если у вас тут осталось 50 гигабайт, а
максимальный размер файла не волнует — то могу рекомендовать.

copy.com

copy.com [http://copy.com] — 15 гигабайт сразу + 25 гигабайт реферралами (5*5,
требуют установки клиента) — итого 40 гигабайт. Если зарегистрироваться по
реферралу [https://copy.com?r=IORcsZ], то сразу при регистрации дают 5 гигабайт
(но не знаю, считают ли их в общую кучу или это отдельно добавляется, как у
hubic).

Есть клиент под Linux [https://copy.com/install/linux/Copy.tgz] (включая
консольный
[https://coderwall.com/p/rwxnma/how-to-install-copy-com-on-a-headless-linux]),
но там только синхронизация.

Существует скрипт для монтирования [https://github.com/copy-app/copy-fuse] в
папку, но у меня он нормально не заработал.

Да, папка монтируется. Можно туда зайти, создавать папки, копировать какие-то
мелкие файлы. Но когда пытаюсь скопировать файл на 50 мегабайт, то получаю:

Так что, в целом, хоть сервис и неплохой, по конкурсу не прошел. Хотя если вас
устроит только синхронизация — почему бы и нет? Объем, неплохие возможности,
довольно высокая скорость закачки, не заявлено ограничений на размер файла.

4shared

4shared [http://4shared.com] — бесплатно даётся 15 гигабайт, увеличить нельзя.
Аккаунт живёт полгода с момента последнего посещения, но есть напоминание о
том, что срок действия заканчивается. Максимальный размер файла — 2 гигабайта.
Имеется официальный WebDAV, работает нормально.

Пользоваться можно, но есть более интересные варианты.

Яндекс.Диск

Яндекс.Диск [http://disk.yandex.ru] — изначально даётся 10 гигабайт, до 20
можно поднять реферралам (по 500 мегабайт, требуется установка клиента). Иногда
бывают временные акции, которые дают пару-тройку гигабайт на год-два. Но года
два или три назад была акция по раздаче 200 гигабайт пострадавшим от их
программы-синхронизатора, потому встречаются люди с бесплатными 200+
гигабайтами. Есть официальный WebDAV
[https://yandex.ru/support/disk/webdav.xml]. Работает без проблем. Максимальный
размер файла — 10 гигабайт.

Можно рекомендовать к использованию в том случае, если вам не надо очень много
места или вы из тех, кто получил 200 гигабайт. Я не из таких, потому
яндекс.диском пользуюсь нечасто. У меня даже всего 7 гигабайт там лимит был,
пришлось поддержку просить увеличить до 10 для порядку.

CloudMe

CloudMe [https://www.cloudme.com/] — 3 гигабайта, реферралами увеличивается до
19 гигабайт по 500 мегабайт с каждого зарегистрировавшегося (и 500 самому
зарегистрировавшемуся, достаточно только подтвердить почтовый ящик). Есть
официальный WebDAV [https://www.cloudme.com/en/webdav], никаких сложностей в
его использовании не заметил.

Для бесплатного пользователя есть ограничение на размер файла — 150 мегабайт.

В целом — вариант приемлемый, но интересен может быть разве что в том случае,
если не устраивает Яндекс.Диск.

OneDrive

OneDrive [http://onedrive.com] — бесплатно дают 15 гигабайт, можно довести до
23 гигабайт (3 за автозагрузку фотографий, 5 за приведенных клиентов). У меня
бесплатных гигабайт тут 40 — давний пользователь (и еще можно 5 получить).
Ограничение на размер файла — 10 гигабайт. Имеется WebDAV, но из-за
особенностей авторизации работает только под windows, а davfs обламывается.

Потому для монтирования папки придётся использовать связку из двух программ —
python-onedrive [https://github.com/mk-fg/python-onedrive] и onedrive-fuse-fs
[https://github.com/mk-fg/onedrive-fuse-fs/].

В принципе, оно работает. Но с кучей оговорок. Ресурс монтируется, да:

Но при попытке что-то скопировать начинается:

Потому пришлось отказаться от монтирования и использовать onedrive-cli для
загрузки файлов. Он работает, правда ругается.

Но файлы при этом загружает нормально и довольно шустро — файл размером 70
мегабайт грузился меньше минуты, а на тот же MediaFire этот же файл закачивался
минут десять. Файл размером 1,6gb тоже загрузился удачно, хотя в том случае
ругани было на экран, а не одна строчка.

В общем, бесплатный onedrive для использования под Linux я не рекомендую. Есть
более интересные варианты.

ADrive.com

ADrive.com [http://adrive.com] — бесплатно дают 50 гигабайт, но на этом для
бесплатного пользователя почти всё ограничивается (минимальная подписка — 100
гигабайт за 25$ в год). Зато у подписчиков есть не только WebDAV, но и scp,
ftp, rsync. Именно потому и упоминаю в списке этот сервис.

Облако Mail.ru

cloud.mail.ru [http://cloud.mail.ru]. Бесплатно предлагают 25 гигабайт,
увеличение только за деньги. Хотя, думаю, у многих там есть 100 гигабайт или
даже терабайт (я во время написания статьи наводил у себя в облаках порядок и
нашел именно терабайт на mail.ru :)). Основная проблема бесплатного аккаунта
(даже с терабайтом) — ограничение на максимальный размер файла, 2 гигабайта.
Хотя для владельцев бесплатного терабайта имеется спецтариф, который снимает
это ограничение (500 рублей в год — и можно загружать файлы до 32 гигабайт).
WebDAV у них работает работает в тестовом режиме, то есть не работает вообще.

Имеется клиент под Linux [https://help.mail.ru/cloud_web/app/about], но только
синхронизация папки, без монтирования. На гитхабе есть консольный вариант
клиента [https://github.com/Anonym-tsk/mailru-cloud] — работает как сервис, но
он какой-то подозрительный. Я не проверял.

Но если они когда-нибудь заведут WebDAV, то сервис станет заслуживающим
внимания.

Итоги

Если собрать результаты в таблицу, то получается примерно так:

Зеленые — рекомендуемы, красные — не годятся, желтые — не вижу особого смысла.

Обошел стороной всяких китайцев с халявными терабайтами (360 Yun Pan, Tencent,
Baidu и т.п.). Они все неведомы зверушки, пользоваться которыми можно только
тогда, когда вы живёте в Китае или рядом. Хотя, конечно, халява — страшная
сила… :)

Не рассматривал варианты с WebDAV'ом и 2-3 гигабайтами бесплатного места —
просто не рационально.

Сам я пользуюсь onedrive'ом — у меня основная работа под windows. С имеющихся в
хозяйстве Linux'ов я вполне могу закидывать файлы на виндовый сервер (что и
делаю — перекрестные бэкапы), а оттуда уже родным клиентом класть в облако. Ну
или упомянутая утилита onedrive-cli, к использованию ограниченно пригодна, если
быстренько хочется что-то кинуть в onedrive напрямую.

Под Linux смотрел бы в первую очередь на MEGA и hubiC, после них — Cubby и
MediaFire.

Update:

Табличка про Google Drive [http://drive.google.com], Dropbox
[http://dropbox.com], T-Online [https://mediencenter.t-online.de/]:

Dropbox и Google Drive монтируются при помощи CloudFusion
[https://github.com/joe42/CloudFusion]. В этом варианте у дропбокса ограничение
по размеру файла. Бесплатный же Google Drive просто не имеет особого смысла на
фоне остальных сервисов.

У T-Online регистрация на немецком — гуглопереводчик в помощь, там несложно.
Реферралы не нашел, WebDAV (https://webdav.mediencenter.t-online.de) работает,
файлы до 2 гигабайт принимает, скорость неплохая.